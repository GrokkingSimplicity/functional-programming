# 9. 패턴2: 추상화 벽
> <i>추상화 벽은 '어떤 것을 신경쓰지 않아도 되지?'라는 말을 거창하게 표현한 개념입니다. 계층 구조에서 어떤 계층에 있는 함수들이 장바구나와 같이 공통된 개념을 신경 쓰지 않아도 된다면 그 계층을 추상화 벽이라고 할 수 있습니다. 추상화 벽은 필요하지 않은 것은 무시할 수 있도록 간접적인 단계를 만듭니다. (p.209)</i>

사용자 코드와 세부 코드를 분리해서 각각의 위치에 집중할 수 있도록 분리해 설계하는 것을 이해하기 쉽게 표현해 준 것 같아 기억에 남았다. 추상화라는 말이 잘 와닿는 설명이었다.

<br/>

> <i>완전하지 않은 추상화 벽을 완전한 추상화 벽으로 만드는 방법은 추상화 벽에 새로운 함수를 만드는 것입니다. (p.209)</i>

상위와 하위를 이어주는 새로운 함수를 이용해 추상화 벽을 더 견고히 할 수 있다. 계층형 설계에서 동일한 계층의 함수를 참조하기 위해 하위 함수를 랩핑하는 중간 함수를 만드는 방법과 비슷하다고 생각됐다.

<br/>

> <i>하지만 코드를 쉽게 고치려고 추상화 벽을 사용하는 것은 아닙니다. 추상화 벽은 팀간에 커뮤니케이션 비용을 줄이고, 복잡한 코드를 명확하게 하기 위해 전략적으로 사용해야 합니다.
> 신경 쓰지 않아도 되는 것을 다루는 것이 추상화 벽의 핵심입니다.(p. 211)</i>

추상화의 중요한 부분이 무엇인지 짚어준 문장이어서 기억에 남는다. 추상화의 핵심은 코드의 유지보수 보다 협업, 또 더 명확한 코드를 짜기 위해 있음을 인지해야 겠다.

<br/>

> <i>새로운 기능을 만들 때 하위 계층에 기능을 추가하거나 고치는 것보다 상위 계층에 만드는 것이 작은 인터페이스 패턴이라고 할 수 있습니다.(p.215)</i>

인터페이스 패턴을 보고 실무에서 사용하는 [FSD](https://feature-sliced.github.io/documentation/kr/docs/get-started/overview) 구조가 떠올랐다. 변경이 자주 일어나는 부분은 상위 계층에 두고 그 외 공통 요소들을 하위 계층에 배치하여 하위는 건드리지 않고 상위에서만 확장하는 형태가 유사하게 느껴졌다. 실제로 이 구조를 사용했을 때 구조 파악이 쉽다고 느껴졌다.

<br/>

> <i> logAddToCart() 함수는 액션입니다. add_item() 함수 안에서 액션을 호출하면 add_item()함수도 액션이 됩니다. 그리고 add_item()을 호출하는 모든 함수가 액션이 되면서 액션이 전체로 퍼집니다. 그렇게 되면 테스트하기가 아려워집니다.(p.217)

FE에서 이벤트를 쌓을 때 어떻게 관리할 것인지에 대한 고민이 많았었다. 로깅 또한 액션이기 때문에 최대한 액션함수에서 동작하는 것이 좋다는 것을 알게됐다. 종종 컴포넌트 내부에서도 로깅을 동작시킬 때가 있었는데, 이를 실제 동작이 이뤄지는 페이지 단에서 관리하는게 작은 인터페이스 설계에 더 맞는 것 같다 !

<br/>



# 10. 일급 함수 I
> <i>함수 본문을 콜백으로 바꾸기 리팩터링으로 함수 본문에 어떤 부분(비슷한 함수에 있는 서로 다른 부분)을 콜백으로 바꿉니다. (p.234)</i>

책 내용중 가장 핵심인 문장이라고 생각한다. 반복되는 코드들을 추상화해서 '무엇을 할지'를 전달하고 어떻게 할지는 신경쓰지 않도록 하는 코드를 만드는 습관을 들여야겠다.


# 느낀점
- 어떤 것들을 고민하며 설계를 해야할지 알게되는 파트였다! 모든 프로젝트에서 동일한 패턴을 적용하는 것이 아닌, 내 프로젝트에 맞는 설계를 이번 파트에서 공부한 내용을 기반으로 고민해볼 수 있는 시간이었다. 그러면서 FSD 설계가 함수형과 추구하는 방향이 비슷하다느 생각이 들었다.
- 내가 생각한 함수형 프로그래밍의 가장 기초 핵심인 일급 함수에 대해서 배울 수 있어 좋았다. 기본적으로 알고있고, 의식하지 않고 실무에 많이 사용하는 패턴들을 톺아보면서 일급함수라는 개념이 프로그래밍을 하면서 많은 유연성을 제공해 준다는 생각이 들었다. 
